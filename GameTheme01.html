<!doctypehtml><html lang=ru><head><meta charset=utf-8><meta content="width=device-width,initial-scale=1,maximum-scale=1,user-scalable=no,viewport-fit=cover"name=viewport><title>Quiz Game</title><style>body,html{height:100%;width:100%;margin:0;padding:0;position:fixed;overflow:hidden;top:0;left:0;background:#000;touch-action:none}#canvas{display:block;position:fixed;top:0;left:0;width:100%;height:100%;background:#000;object-fit:contain;touch-action:none;image-rendering:optimizeSpeed;image-rendering:-moz-crisp-edges;image-rendering:-webkit-optimize-contrast;image-rendering:-o-crisp-edges;image-rendering:pixelated;-ms-interpolation-mode:nearest-neighbor}#hiddenInput{position:absolute;left:-9999px;top:-9999px;opacity:.01;width:1px;height:1px}#fullscreenBtn{position:fixed;top:20px;right:20px;z-index:9999;width:44px;height:44px;font-size:24px;font-family:Arial,sans-serif;background-color:rgba(0,0,0,.7);color:#fff;border:2px solid #fff;border-radius:8px;cursor:pointer;user-select:none;transition:background .3s,transform .1s;display:flex;align-items:center;justify-content:center;padding:0}#fullscreenBtn:hover{background-color:rgba(255,255,255,.2)}#fullscreenBtn:active{transform:scale(.95)}@supports (-webkit-touch-callout:none){@media (max-width:428px){#fullscreenBtn{display:none}}}</style></head><body><button id=fullscreenBtn title="Полный экран">⛶</button><canvas id=canvas tabindex=0></canvas><input autocapitalize=off autocomplete=off autocorrect=off id=hiddenInput spellcheck=false><script>var Module={canvas:document.getElementById("canvas"),onRuntimeInitialized:function(){const e=Module.canvas,n=document.getElementById("fullscreenBtn"),t=document.getElementById("hiddenInput");let i=!1,l=window.innerWidth,o=window.innerHeight,d=!1;function u(){const n=d?{width:l,height:o}:window.visualViewport?{width:window.visualViewport.width,height:window.visualViewport.height}:{width:window.innerWidth,height:window.innerHeight};e.style.width=n.width+"px",e.style.height=n.height+"px",!d&&Module.emscripten_force_resize&&setTimeout((()=>Module.emscripten_force_resize()),50)}function c(){return!!(document.fullscreenElement||document.webkitFullscreenElement||document.mozFullScreenElement||document.msFullscreenElement)}function s(){c()?(n.textContent="⛌",n.title="Выйти из полного экрана"):(n.textContent="⛶",n.title="Полный экран")}t.addEventListener("keydown",(e=>{console.log(`Key down: ${e.key} (code: ${e.code})`),"Backspace"===e.key&&(i=!0,setTimeout((()=>{i=!1}),150),Module.ccall("HandleBackspace",null,[],[]),e.preventDefault()),"Enter"===e.key&&(e.preventDefault(),Module.ccall("HandleEnter",null,[],[]))})),t.addEventListener("input",(e=>{console.log(`Input event: current value = "${t.value}"`)})),t.addEventListener("focus",(()=>{console.log("hiddenInput focused"),d=!0})),t.addEventListener("blur",(()=>{console.log("hiddenInput blurred"),i?(console.log("Preventing blur due to recent Backspace"),setTimeout((()=>t.focus()),150)):(d=!1,setTimeout((()=>{l=window.innerWidth,o=window.innerHeight,u()}),300))})),n.addEventListener("click",(function(){if(c())document.exitFullscreen?document.exitFullscreen():document.webkitExitFullscreen?document.webkitExitFullscreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.msExitFullscreen&&document.msExitFullscreen();else{const e=document.documentElement,n=e.requestFullscreen?e.requestFullscreen():e.webkitRequestFullscreen?e.webkitRequestFullscreen():e.mozRequestFullScreen?e.mozRequestFullScreen():e.msRequestFullscreen?e.msRequestFullscreen():null;n&&n.then((()=>{s(),u()})).catch((e=>{console.log("Fullscreen error:",e)}))}})),["fullscreenchange","webkitfullscreenchange","mozfullscreenchange","MSFullscreenChange"].forEach((e=>{document.addEventListener(e,(()=>{s(),setTimeout(u,100)}))}));let r=!0;e.addEventListener("click",(()=>{if(r){const e=/iPhone/i.test(navigator.userAgent),t=/Android/i.test(navigator.userAgent);(e||t)&&(n.style.display="none"),r=!1}})),window.visualViewport&&(window.visualViewport.addEventListener("resize",(()=>{d||u()})),window.visualViewport.addEventListener("scroll",(()=>{d||u()}))),window.addEventListener("resize",(()=>{d||(l=window.innerWidth,o=window.innerHeight,u())})),window.addEventListener("orientationchange",(()=>{setTimeout((()=>{l=window.innerWidth,o=window.innerHeight,u()}),100)})),setTimeout((()=>{window.scrollTo(0,1),setTimeout((()=>{window.scrollTo(0,0),l=window.innerWidth,o=window.innerHeight,u()}),100)}),100),u(),s()}}</script><script async src=GameTheme01.js></script></body></html>